import{r as o,j as e,s as v,R as y,a as f}from"./index.js";const l={OPENAI:"openai",GROQ:"groq",OLLAMA:"ollama"},b=()=>{const[s,n]=o.useState(""),[a,r]=o.useState({openai:"",groq:"",ollama:""}),[i,d]=o.useState({openai:"",groq:""}),[c,x]=o.useState({address:""}),[p,m]=o.useState(""),[h,u]=o.useState(null);o.useEffect(()=>{chrome.storage.sync.get(["isValid"],t=>{t.isValid!==void 0&&u(t.isValid)})},[]),o.useEffect(()=>{chrome.storage.sync.get(["provider","model","apiKeys","localSettings"],t=>{n(t.provider||""),r(t.model||{openai:"",groq:"",ollama:""}),d(t.apiKeys||{openai:"",groq:""}),x(t.localSettings||{address:""})})},[]);const g=async()=>{chrome.storage.sync.set({isValid:!1,apiKeys:i}),s===l.GROQ&&(await j()?chrome.storage.sync.set({isValid:!0},()=>{m("Groq API key saved successfully!"),u(!0)}):(m("Invalid API key. Please try again."),u(!1),chrome.storage.sync.set({isValid:!1}))),chrome.storage.sync.set({provider:s,model:a,apiKeys:i,localSettings:c})},j=async()=>{try{return await v("hi",1),!0}catch{return!1}};return e.jsxs("div",{className:"prose m-4 flex flex-col",children:[e.jsx("div",{className:"flex flex-row justify-center",children:e.jsx("h1",{children:"Options"})}),e.jsx(A,{provider:s,setProvider:n}),s&&(s===l.OPENAI||s===l.GROQ)&&e.jsx(N,{provider:s,model:a[s],setModel:t=>r({...a,[s]:t}),apiKey:i[s],setApiKey:t=>d({...i,[s]:t})}),s&&s===l.OLLAMA&&e.jsx(O,{model:a[l.OLLAMA],setModel:t=>r({...a,[s]:t}),address:c.address,setAddress:t=>x({...c,address:t})}),e.jsx("button",{onClick:g,className:"btn btn-primary mt-4 w-full",type:"submit",children:"Save"}),e.jsx("div",{style:{color:h?"green":"red"},className:"h-4",children:p||" "})]})},A=({provider:s,setProvider:n})=>e.jsxs("div",{children:[e.jsx("label",{children:"Select LLM Provider:"}),e.jsxs("select",{value:s,onChange:a=>n(a.target.value),className:"select select-bordered w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select..."}),e.jsx("option",{value:l.OPENAI,children:"OpenAI"}),e.jsx("option",{value:l.GROQ,children:"Groq"}),e.jsx("option",{value:l.OLLAMA,children:"Ollama (local)"})]})]}),N=({provider:s,model:n,setModel:a,apiKey:r,setApiKey:i})=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"API key:"})}),e.jsx("input",{className:"input input-bordered w-full",type:"text",value:s===l.GROQ?r:"Coming soon...",onChange:d=>i(d.target.value),disabled:s===l.OPENAI})]}),s===l.GROQ&&e.jsx("div",{children:e.jsx("a",{href:"https://console.groq.com/keys",target:"_blank",children:"Get your groq API key"})}),e.jsxs("div",{children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Model:"})}),e.jsx("input",{className:"input input-bordered w-full",type:"text",value:"Coming soon...",onChange:d=>a(d.target.value),disabled:!0})]})]}),O=({model:s,setModel:n,address:a,setAddress:r})=>e.jsxs("div",{children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Address with Port:"})}),e.jsx("input",{className:"input input-bordered w-full",type:"text",value:a,onChange:i=>r(i.target.value)}),e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Model"})}),e.jsx("input",{className:"input input-bordered w-full",type:"text",value:s,onChange:i=>n(i.target.value)})]});y.render(e.jsx(f.StrictMode,{children:e.jsx(b,{})}),document.getElementById("options-root"));
