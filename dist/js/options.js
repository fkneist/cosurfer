import{r as o,j as e,s as v,R as y,a as f}from"./index.js";const a={OPENAI:"openai",GROQ:"groq",OLLAMA:"ollama"},b=()=>{const[s,n]=o.useState(""),[i,d]=o.useState({openai:"",groq:""}),[l,r]=o.useState({openai:"",groq:""}),[c,u]=o.useState({address:"",model:""}),[x,p]=o.useState(""),[h,m]=o.useState(null);o.useEffect(()=>{chrome.storage.sync.get(["isValid"],t=>{t.isValid!==void 0&&m(t.isValid)})},[]),o.useEffect(()=>{chrome.storage.sync.get(["provider","model","apiKeys","localSettings"],t=>{n(t.provider||""),d(t.model||{openai:"",groq:""}),r(t.apiKeys||{openai:"",groq:""}),u(t.localSettings||{address:"",model:""})})},[]);const g=async()=>{chrome.storage.sync.set({isValid:!1,apiKeys:l}),s===a.GROQ&&(await j(l[s])?chrome.storage.sync.set({isValid:!0},()=>{p("Groq API key saved successfully!"),m(!0)}):(p("Invalid API key. Please try again."),m(!1),chrome.storage.sync.set({isValid:!1}))),chrome.storage.sync.set({provider:s,model:i,apiKeys:l,localSettings:c})},j=async t=>{try{return await v("hi",1),!0}catch{return!1}};return e.jsxs("div",{className:"prose m-4 flex flex-col",children:[e.jsx("div",{className:"flex flex-row justify-center",children:e.jsx("h1",{children:"Options"})}),e.jsx(N,{provider:s,setProvider:n}),s&&(s===a.OPENAI||s===a.GROQ)&&e.jsx(A,{provider:s,model:i[s],setModel:t=>d({...i,[s]:t}),apiKey:l[s],setApiKey:t=>r({...l,[s]:t})}),s&&s===a.OLLAMA&&e.jsx(O,{model:c.model,setModel:t=>u({...c,model:t}),address:c.address,setAddress:t=>u({...c,address:t})}),e.jsx("button",{onClick:g,className:"btn btn-primary mt-4 w-full",type:"submit",children:"Save"}),e.jsx("div",{style:{color:h?"green":"red"},className:"h-4",children:x||" "})]})},N=({provider:s,setProvider:n})=>e.jsxs("div",{children:[e.jsx("label",{children:"Select LLM Provider:"}),e.jsxs("select",{value:s,onChange:i=>n(i.target.value),className:"select select-bordered w-full",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Select..."}),e.jsx("option",{value:a.OPENAI,children:"OpenAI"}),e.jsx("option",{value:a.GROQ,children:"Groq"}),e.jsx("option",{value:a.OLLAMA,children:"Ollama (local)"})]})]}),A=({provider:s,model:n,setModel:i,apiKey:d,setApiKey:l})=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"API key:"})}),e.jsx("input",{className:"input input-bordered w-full",type:"text",value:s===a.GROQ?d:"Coming soon...",onChange:r=>l(r.target.value),disabled:s===a.OPENAI})]}),s===a.GROQ&&e.jsx("div",{children:e.jsx("a",{href:"https://console.groq.com/keys",target:"_blank",children:"Get your groq API key"})}),e.jsxs("div",{children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Model:"})}),e.jsx("input",{className:"input input-bordered w-full",type:"text",value:"Coming soon...",onChange:r=>i(r.target.value),disabled:!0})]})]}),O=({model:s,setModel:n,address:i,setAddress:d})=>e.jsxs("div",{children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Address with Port:"})}),e.jsx("input",{className:"input input-bordered w-full",type:"text",value:"Coming soon...",onChange:l=>d(l.target.value),disabled:!0}),e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Model"})}),e.jsx("input",{className:"input input-bordered w-full",type:"text",value:"Coming soon...",onChange:l=>n(l.target.value),disabled:!0})]});y.render(e.jsx(f.StrictMode,{children:e.jsx(b,{})}),document.getElementById("options-root"));
